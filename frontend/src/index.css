@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;600&display=swap');

/* ══════════════════════════════════════════════════════════
   SOCIAL RANK — GOBIERNO  |  v2.0  |  Silicon Valley Dark
   ══════════════════════════════════════════════════════════ */
:root {
  /* Core Palette */
  --bg:         #050916;
  --bg2:        #080e1e;
  --surface:    #0d1529;
  --surface2:   #111c35;
  --surface3:   #162040;
  --border:     #1e2d50;
  --border2:    #243460;

  /* Accent Colors */
  --gold:       #f5c518;
  --gold-dim:   #c49a10;
  --gold-glow:  rgba(245,197,24,.25);
  --blue:       #3b82f6;
  --blue-dim:   #1d4ed8;
  --blue-glow:  rgba(59,130,246,.2);
  --cyan:       #06b6d4;
  --cyan-glow:  rgba(6,182,212,.2);
  --red:        #ef4444;
  --red-dim:    #991b1b;
  --red-glow:   rgba(239,68,68,.25);
  --orange:     #f97316;
  --orange-glow:rgba(249,115,22,.2);
  --green:      #22c55e;
  --green-glow: rgba(34,197,94,.2);
  --purple:     #8b5cf6;
  --purple-glow:rgba(139,92,246,.2);

  /* Text */
  --text:       #e2e8f0;
  --text2:      #94a3b8;
  --text3:      #475569;

  /* Layout */
  --radius:     14px;
  --radius-sm:  8px;
  --sidebar-w:  260px;

  /* Shadows */
  --shadow-card: 0 4px 24px rgba(0,0,0,.4);
  --shadow-glow-gold: 0 0 30px rgba(245,197,24,.15);
}

/* ── Reset ── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  background-image:
    radial-gradient(ellipse 80% 50% at 20% 10%, rgba(59,130,246,.04) 0%, transparent 60%),
    radial-gradient(ellipse 60% 40% at 80% 80%, rgba(245,197,24,.03) 0%, transparent 60%);
}

/* ── Scrollbar ── */
::-webkit-scrollbar { width: 4px; height: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border2); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--text3); }

/* ═══════════════════════════════════════════════
   LAYOUT
   ═══════════════════════════════════════════════ */
.layout { display: flex; min-height: 100vh; }

.main-content {
  margin-left: var(--sidebar-w);
  flex: 1;
  padding: 28px 32px;
  max-width: calc(100vw - var(--sidebar-w));
}

/* ── Page Header ── */
.page-header {
  display: flex; align-items: flex-start;
  justify-content: space-between;
  margin-bottom: 28px; gap: 16px; flex-wrap: wrap;
}
.page-header-left h2 {
  font-size: 24px; font-weight: 800;
  background: linear-gradient(135deg, var(--text) 0%, var(--text2) 100%);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
}
.page-header-left p { font-size: 13px; color: var(--text2); margin-top: 4px; }

/* ═══════════════════════════════════════════════
   SIDEBAR
   ═══════════════════════════════════════════════ */
.sidebar {
  width: var(--sidebar-w);
  background: var(--bg2);
  border-right: 1px solid var(--border);
  position: fixed; top: 0; left: 0;
  height: 100vh;
  display: flex; flex-direction: column;
  z-index: 100;
  overflow: hidden;
}

.sidebar-logo {
  padding: 20px 20px 16px;
  border-bottom: 1px solid var(--border);
  display: flex; align-items: center; gap: 10px;
}
.sidebar-logo-icon {
  width: 36px; height: 36px; border-radius: 10px;
  background: linear-gradient(135deg, var(--gold) 0%, var(--orange) 100%);
  display: flex; align-items: center; justify-content: center;
  font-size: 18px; flex-shrink: 0;
  box-shadow: 0 4px 12px var(--gold-glow);
}
.sidebar-logo-text { line-height: 1.2; }
.sidebar-logo-text .brand { font-size: 14px; font-weight: 800; color: var(--text); }
.sidebar-logo-text .sub   { font-size: 10px; color: var(--text2); letter-spacing: .5px; }

/* Live badge */
.live-badge {
  display: inline-flex; align-items: center; gap: 4px;
  background: rgba(34,197,94,.15); border: 1px solid rgba(34,197,94,.3);
  border-radius: 20px; padding: 2px 8px;
  font-size: 9px; font-weight: 700; color: var(--green);
  letter-spacing: .8px; text-transform: uppercase;
}
.live-dot {
  width: 5px; height: 5px; border-radius: 50%;
  background: var(--green);
  animation: pulse-green 1.5s ease-in-out infinite;
}
@keyframes pulse-green {
  0%, 100% { opacity: 1; }
  50% { opacity: .3; }
}

.sidebar-nav { flex: 1; overflow-y: auto; padding: 12px 0; }

.sidebar-section {
  padding: 8px 16px 4px;
  font-size: 9px; font-weight: 700; color: var(--text3);
  letter-spacing: 1.2px; text-transform: uppercase;
}

.sidebar-link {
  display: flex; align-items: center; gap: 10px;
  padding: 9px 20px;
  font-size: 13px; font-weight: 500; color: var(--text2);
  text-decoration: none;
  cursor: pointer;
  border: none; background: none; width: 100%; text-align: left;
  transition: color .15s, background .15s;
  border-radius: 0;
  position: relative;
}
.sidebar-link:hover { color: var(--text); background: var(--surface); }
.sidebar-link.active {
  color: var(--gold);
  background: rgba(245,197,24,.08);
}
.sidebar-link.active::before {
  content: ''; position: absolute; left: 0; top: 4px; bottom: 4px;
  width: 3px; background: var(--gold);
  border-radius: 0 3px 3px 0;
}
.sidebar-link .icon { width: 16px; height: 16px; flex-shrink: 0; opacity: .7; }
.sidebar-link.active .icon { opacity: 1; }
.sidebar-link-badge {
  margin-left: auto; font-size: 9px; font-weight: 700;
  background: var(--red-dim); color: var(--red);
  border-radius: 10px; padding: 1px 6px;
}

.sidebar-footer {
  padding: 16px 20px;
  border-top: 1px solid var(--border);
}
.project-pill {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 10px; padding: 10px 12px;
  margin-bottom: 10px;
}
.project-pill .proj-label { font-size: 9px; color: var(--text3); letter-spacing: .8px; text-transform: uppercase; }
.project-pill .proj-name  { font-size: 12px; font-weight: 700; color: var(--gold); margin-top: 3px; line-height: 1.3; }
.project-pill .proj-sub   { font-size: 10px; color: var(--text2); margin-top: 1px; }

.role-row { display: flex; align-items: center; gap: 8px; }
.role-btn {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 6px 12px; border-radius: var(--radius-sm);
  font-size: 11px; font-weight: 700;
  border: 1px solid var(--border); cursor: pointer;
  transition: all .15s;
  background: transparent; color: var(--text2);
}
.role-btn.admin-mode {
  background: rgba(245,197,24,.1);
  border-color: rgba(245,197,24,.3);
  color: var(--gold);
}
.role-btn:hover { opacity: .8; }

/* ═══════════════════════════════════════════════
   CARDS
   ═══════════════════════════════════════════════ */
.card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 20px;
  box-shadow: var(--shadow-card);
}
.card-title {
  font-size: 10px; color: var(--text2);
  text-transform: uppercase; letter-spacing: 1px;
  font-weight: 700; margin-bottom: 16px;
  display: flex; align-items: center; gap: 7px;
}
.card:hover { border-color: var(--border2); }

/* Glass card variant */
.card-glass {
  background: rgba(13,21,41,.7);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255,255,255,.07);
  border-radius: var(--radius);
  padding: 20px;
}

/* Glow card variants */
.card-gold  { border-color: rgba(245,197,24,.2);  box-shadow: inset 0 0 30px var(--gold-glow); }
.card-blue  { border-color: rgba(59,130,246,.2);   box-shadow: inset 0 0 30px var(--blue-glow); }
.card-red   { border-color: rgba(239,68,68,.2);    box-shadow: inset 0 0 30px var(--red-glow); }
.card-green { border-color: rgba(34,197,94,.2);    box-shadow: inset 0 0 30px var(--green-glow); }

/* ═══════════════════════════════════════════════
   STAT CARDS — COMMAND CENTER
   ═══════════════════════════════════════════════ */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
  gap: 16px; margin-bottom: 24px;
}

.stat-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 20px;
  position: relative; overflow: hidden;
  transition: transform .2s, border-color .2s, box-shadow .2s;
}
.stat-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 32px rgba(0,0,0,.4);
}
.stat-card::after {
  content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px;
  background: linear-gradient(90deg, transparent, var(--accent-color, var(--blue)), transparent);
}
.stat-card.gold-card  { --accent-color: var(--gold); }
.stat-card.blue-card  { --accent-color: var(--blue); }
.stat-card.red-card   { --accent-color: var(--red); }
.stat-card.green-card { --accent-color: var(--green); }
.stat-card.cyan-card  { --accent-color: var(--cyan); }
.stat-card.purple-card{ --accent-color: var(--purple); }
.stat-card.orange-card{ --accent-color: var(--orange); }

.stat-card .s-icon {
  width: 36px; height: 36px; border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
  margin-bottom: 12px; font-size: 18px;
}
.stat-card .s-label {
  font-size: 10px; color: var(--text2);
  text-transform: uppercase; letter-spacing: 1px; font-weight: 600;
}
.stat-card .s-value {
  font-size: 36px; font-weight: 900; line-height: 1.1;
  margin: 6px 0 4px;
  font-variant-numeric: tabular-nums;
}
.stat-card .s-sub { font-size: 11px; color: var(--text2); }
.stat-card .s-trend {
  display: inline-flex; align-items: center; gap: 3px;
  font-size: 11px; font-weight: 600; margin-top: 6px;
  padding: 2px 8px; border-radius: 20px;
}
.s-trend.up   { background: rgba(34,197,94,.12); color: var(--green); }
.s-trend.down { background: rgba(239,68,68,.12); color: var(--red); }
.s-trend.flat { background: rgba(148,163,184,.1); color: var(--text2); }

/* ═══════════════════════════════════════════════
   COMMAND CENTER — HERO SECTION
   ═══════════════════════════════════════════════ */
.command-hero {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 20px; margin-bottom: 24px;
}
.command-hero-main {
  grid-column: span 2;
  background: linear-gradient(135deg, var(--surface) 0%, var(--surface2) 100%);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 28px;
  position: relative; overflow: hidden;
}
.command-hero-main::before {
  content: ''; position: absolute; top: -50%; right: -20%;
  width: 400px; height: 400px; border-radius: 50%;
  background: radial-gradient(circle, rgba(245,197,24,.06) 0%, transparent 70%);
}

.ivb-hero-card {
  background: var(--surface);
  border: 1px solid rgba(245,197,24,.2);
  border-radius: var(--radius);
  padding: 28px;
  display: flex; flex-direction: column; align-items: center;
  justify-content: center; text-align: center;
  box-shadow: 0 0 40px rgba(245,197,24,.08);
  position: relative; overflow: hidden;
}
.ivb-hero-card::before {
  content: ''; position: absolute; inset: 0;
  background: radial-gradient(ellipse at center top, rgba(245,197,24,.05), transparent 60%);
}

/* ═══════════════════════════════════════════════
   IVB GAUGE
   ═══════════════════════════════════════════════ */
.ivb-gauge-wrap { position: relative; width: 180px; height: 100px; margin: 0 auto 12px; }
.ivb-gauge-svg { width: 100%; height: 100%; }
.ivb-gauge-value {
  position: absolute; bottom: 0; left: 50%; transform: translateX(-50%);
  font-size: 42px; font-weight: 900;
  font-variant-numeric: tabular-nums;
}
.ivb-zone-label {
  display: inline-block; padding: 4px 16px;
  border-radius: 20px; font-size: 12px; font-weight: 700;
  letter-spacing: .5px; margin-top: 4px;
}
.ivb-zone-duro    { background: rgba(34,197,94,.15);  color: var(--green);  border: 1px solid rgba(34,197,94,.3); }
.ivb-zone-semi    { background: rgba(245,197,24,.15); color: var(--gold);   border: 1px solid rgba(245,197,24,.3); }
.ivb-zone-alto    { background: rgba(249,115,22,.15); color: var(--orange); border: 1px solid rgba(249,115,22,.3); }
.ivb-zone-extremo { background: rgba(239,68,68,.15);  color: var(--red);    border: 1px solid rgba(239,68,68,.3); }

/* ═══════════════════════════════════════════════
   ALERT TICKER
   ═══════════════════════════════════════════════ */
.alert-ticker {
  background: rgba(239,68,68,.08);
  border: 1px solid rgba(239,68,68,.2);
  border-radius: var(--radius-sm);
  padding: 10px 16px;
  display: flex; align-items: center; gap: 10px;
  margin-bottom: 20px; font-size: 13px;
  overflow: hidden;
}
.alert-ticker .ticker-label {
  font-size: 10px; font-weight: 800; color: var(--red);
  text-transform: uppercase; letter-spacing: 1px;
  background: rgba(239,68,68,.15); padding: 3px 8px;
  border-radius: 4px; flex-shrink: 0;
  border: 1px solid rgba(239,68,68,.3);
}
.alert-ticker .ticker-text { color: var(--text); font-size: 12px; }
.pulse-dot {
  width: 8px; height: 8px; border-radius: 50%;
  background: var(--red); flex-shrink: 0;
  animation: pulse-red 1.2s ease-in-out infinite;
}
@keyframes pulse-red {
  0%, 100% { box-shadow: 0 0 0 0 rgba(239,68,68,.6); }
  50% { box-shadow: 0 0 0 8px rgba(239,68,68,0); }
}

/* ═══════════════════════════════════════════════
   CHARTS SECTION
   ═══════════════════════════════════════════════ */
.charts-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px; margin-bottom: 24px;
}
.charts-grid-3 {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 20px; margin-bottom: 24px;
}

/* ═══════════════════════════════════════════════
   RISK PANEL
   ═══════════════════════════════════════════════ */
.risk-item {
  display: flex; align-items: flex-start; gap: 12px;
  padding: 12px; border-radius: var(--radius-sm);
  background: var(--surface2); margin-bottom: 8px;
  border: 1px solid var(--border);
  transition: border-color .15s;
  cursor: pointer;
}
.risk-item:hover { border-color: var(--border2); }
.risk-item.rojo    { border-left: 3px solid var(--red); }
.risk-item.amarillo { border-left: 3px solid var(--gold); }
.risk-item.verde   { border-left: 3px solid var(--green); }
.risk-level-badge {
  font-size: 9px; font-weight: 800; padding: 2px 7px;
  border-radius: 4px; text-transform: uppercase; letter-spacing: .8px;
  flex-shrink: 0; margin-top: 2px;
}
.risk-level-badge.rojo    { background: var(--red-dim); color: var(--red); }
.risk-level-badge.amarillo { background: rgba(245,197,24,.15); color: var(--gold); }
.risk-level-badge.verde   { background: rgba(34,197,94,.1); color: var(--green); }

/* ═══════════════════════════════════════════════
   TABLES
   ═══════════════════════════════════════════════ */
.table-wrap { overflow-x: auto; }
table { width: 100%; border-collapse: collapse; font-size: 13px; }
th {
  text-align: left; padding: 10px 14px;
  font-size: 10px; color: var(--text2);
  text-transform: uppercase; letter-spacing: .8px;
  border-bottom: 1px solid var(--border);
  background: var(--surface2); font-weight: 700;
}
th:first-child { border-radius: var(--radius-sm) 0 0 0; }
th:last-child  { border-radius: 0 var(--radius-sm) 0 0; }
td {
  padding: 12px 14px;
  border-bottom: 1px solid var(--border);
  vertical-align: middle; color: var(--text);
}
tr:last-child td { border-bottom: none; }
tbody tr:hover td { background: var(--surface2); }

/* ═══════════════════════════════════════════════
   BADGES
   ═══════════════════════════════════════════════ */
.badge {
  display: inline-flex; align-items: center; gap: 4px;
  padding: 3px 10px; border-radius: 20px;
  font-size: 11px; font-weight: 700;
}
.badge-gold   { background: rgba(245,197,24,.12); color: var(--gold);   border: 1px solid rgba(245,197,24,.25); }
.badge-blue   { background: rgba(59,130,246,.12);  color: #60a5fa;       border: 1px solid rgba(59,130,246,.25); }
.badge-cyan   { background: rgba(6,182,212,.12);   color: var(--cyan);   border: 1px solid rgba(6,182,212,.25); }
.badge-red    { background: rgba(239,68,68,.12);   color: #f87171;       border: 1px solid rgba(239,68,68,.25); }
.badge-green  { background: rgba(34,197,94,.12);   color: var(--green);  border: 1px solid rgba(34,197,94,.25); }
.badge-orange { background: rgba(249,115,22,.12);  color: var(--orange); border: 1px solid rgba(249,115,22,.25); }
.badge-purple { background: rgba(139,92,246,.12);  color: var(--purple); border: 1px solid rgba(139,92,246,.25); }
.badge-gray   { background: var(--surface2); color: var(--text2); border: 1px solid var(--border); }
/* Keep legacy */
.badge-yellow { background: rgba(245,197,24,.12); color: var(--gold); border: 1px solid rgba(245,197,24,.25); }
.badge-teal   { background: rgba(6,182,212,.12); color: var(--cyan); border: 1px solid rgba(6,182,212,.25); }

/* Semáforo dots */
.dot { width: 9px; height: 9px; border-radius: 50%; display: inline-block; flex-shrink: 0; }
.dot-rojo     { background: var(--red);    box-shadow: 0 0 8px var(--red); }
.dot-amarillo { background: var(--gold);   box-shadow: 0 0 8px var(--gold); }
.dot-verde    { background: var(--green);  box-shadow: 0 0 8px var(--green); }
.semaforo-rojo     { color: var(--red); }
.semaforo-amarillo { color: var(--gold); }
.semaforo-verde    { color: var(--green); }

/* ═══════════════════════════════════════════════
   BUTTONS
   ═══════════════════════════════════════════════ */
.btn {
  display: inline-flex; align-items: center; gap: 7px;
  padding: 9px 18px; border-radius: var(--radius-sm);
  border: none; font-size: 13px; font-weight: 600;
  cursor: pointer; transition: all .18s;
  font-family: 'Inter', sans-serif;
}
.btn:hover { transform: translateY(-1px); filter: brightness(1.1); }
.btn:active { transform: translateY(0); filter: brightness(.95); }
.btn-primary { background: linear-gradient(135deg, #2563eb, var(--blue)); color: #fff; box-shadow: 0 4px 14px rgba(59,130,246,.3); }
.btn-gold    { background: linear-gradient(135deg, var(--gold-dim), var(--gold)); color: #050916; box-shadow: 0 4px 14px var(--gold-glow); }
.btn-danger  { background: linear-gradient(135deg, var(--red-dim), var(--red)); color: #fff; }
.btn-outline { background: transparent; border: 1px solid var(--border); color: var(--text2); }
.btn-outline:hover { border-color: var(--border2); color: var(--text); }
.btn-ghost   { background: transparent; color: var(--text2); padding: 8px; }
.btn-ghost:hover { background: var(--surface2); color: var(--text); transform: none; }
.btn-sm { font-size: 11px; padding: 5px 12px; }
.btn-xs { font-size: 10px; padding: 3px 8px; }
.btn-teal { background: linear-gradient(135deg, #0891b2, var(--cyan)); color: #050916; }

/* ═══════════════════════════════════════════════
   FORMS
   ═══════════════════════════════════════════════ */
.form-row   { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 14px; margin-bottom: 14px; }
.form-group { display: flex; flex-direction: column; gap: 5px; }
label { font-size: 11px; color: var(--text2); font-weight: 600; letter-spacing: .3px; }
input, select, textarea {
  background: var(--surface2); border: 1px solid var(--border);
  color: var(--text); border-radius: var(--radius-sm); padding: 9px 12px;
  font-size: 13px; font-family: 'Inter', sans-serif; outline: none;
  transition: border-color .18s, box-shadow .18s;
}
input:focus, select:focus, textarea:focus {
  border-color: var(--blue);
  box-shadow: 0 0 0 3px rgba(59,130,246,.12);
}
textarea { resize: vertical; min-height: 70px; }
select option { background: var(--surface2); }
input[type="color"] { height: 38px; padding: 2px 4px; cursor: pointer; }

/* ═══════════════════════════════════════════════
   MODAL
   ═══════════════════════════════════════════════ */
.modal-overlay {
  display: none; position: fixed; inset: 0;
  background: rgba(0,0,0,.7); backdrop-filter: blur(4px);
  z-index: 500; align-items: center; justify-content: center;
}
.modal-overlay.open { display: flex; }
.modal {
  background: var(--surface); border: 1px solid var(--border2);
  border-radius: var(--radius); padding: 28px;
  width: 90%; max-width: 540px;
  box-shadow: 0 20px 60px rgba(0,0,0,.6);
  animation: modal-in .2s ease;
}
@keyframes modal-in { from { opacity: 0; transform: scale(.96); } }
.modal h3 { font-size: 16px; font-weight: 700; margin-bottom: 20px; }
.modal-footer { display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px; }

/* ═══════════════════════════════════════════════
   PROGRESS BARS
   ═══════════════════════════════════════════════ */
.progress-bar  { height: 5px; background: var(--surface2); border-radius: 3px; overflow: hidden; }
.progress-fill {
  height: 100%; border-radius: 3px;
  background: linear-gradient(90deg, var(--blue), var(--cyan));
  transition: width .6s ease;
}
.progress-fill.gold-fill   { background: linear-gradient(90deg, var(--gold-dim), var(--gold)); }
.progress-fill.red-fill    { background: linear-gradient(90deg, var(--red-dim), var(--red)); }
.progress-fill.green-fill  { background: linear-gradient(90deg, #16a34a, var(--green)); }
.progress-fill.purple-fill { background: linear-gradient(90deg, #6d28d9, var(--purple)); }
.progress-fill.orange-fill { background: linear-gradient(90deg, #c2410c, var(--orange)); }

/* ═══════════════════════════════════════════════
   ARCHETYPE CARDS
   ═══════════════════════════════════════════════ */
.archetype-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 16px; }
.archetype-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 18px; cursor: pointer;
  transition: all .2s;
}
.archetype-card:hover {
  border-color: var(--border2); transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(0,0,0,.3);
}
.archetype-card .arc-header { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; }
.archetype-card .arc-icon {
  width: 42px; height: 42px; border-radius: 12px;
  background: linear-gradient(135deg, var(--surface2), var(--surface3));
  border: 1px solid var(--border2);
  display: flex; align-items: center; justify-content: center;
  font-size: 20px;
}
.archetype-card .arc-name { font-size: 14px; font-weight: 700; }
.archetype-card .arc-pct  { font-size: 28px; font-weight: 900; color: var(--gold); }

/* ═══════════════════════════════════════════════
   AI BOX
   ═══════════════════════════════════════════════ */
.ai-box {
  background: var(--surface2); border: 1px solid var(--border2);
  border-radius: var(--radius); padding: 20px; margin-top: 16px;
}
.ai-section-title {
  font-size: 10px; color: var(--cyan);
  text-transform: uppercase; letter-spacing: 1px;
  font-weight: 700; margin: 14px 0 8px;
  display: flex; align-items: center; gap: 6px;
}
.ai-section-title::before {
  content: ''; width: 20px; height: 1px; background: var(--cyan); opacity: .5;
}
.ai-item {
  display: flex; align-items: flex-start; gap: 8px;
  font-size: 13px; margin-bottom: 7px; color: var(--text);
}
.ai-item .ai-arrow { color: var(--cyan); flex-shrink: 0; margin-top: 1px; }

/* Risk level in AI */
.risk-indicator {
  display: inline-flex; align-items: center; gap: 8px;
  padding: 8px 16px; border-radius: var(--radius-sm);
  font-size: 15px; font-weight: 700;
}
.risk-indicator.bajo    { background: rgba(34,197,94,.1); color: var(--green); border: 1px solid rgba(34,197,94,.2); }
.risk-indicator.medio   { background: rgba(245,197,24,.1); color: var(--gold); border: 1px solid rgba(245,197,24,.2); }
.risk-indicator.alto    { background: rgba(249,115,22,.1); color: var(--orange); border: 1px solid rgba(249,115,22,.2); }
.risk-indicator.critico { background: rgba(239,68,68,.1); color: var(--red); border: 1px solid rgba(239,68,68,.2); }

/* ═══════════════════════════════════════════════
   LOADER
   ═══════════════════════════════════════════════ */
.loader {
  width: 20px; height: 20px;
  border: 2px solid var(--border2);
  border-top-color: var(--blue);
  border-radius: 50%;
  animation: spin .7s linear infinite;
  display: inline-block;
}
@keyframes spin { to { transform: rotate(360deg); } }

.loading-screen {
  display: flex; align-items: center; justify-content: center;
  min-height: 200px; flex-direction: column; gap: 12px;
  color: var(--text2); font-size: 13px;
}

/* ═══════════════════════════════════════════════
   TAGS
   ═══════════════════════════════════════════════ */
.tag-list { display: flex; flex-wrap: wrap; gap: 5px; }
.tag {
  background: var(--surface2); border: 1px solid var(--border);
  color: var(--blue); font-size: 11px;
  border-radius: 20px; padding: 2px 9px;
  font-weight: 500;
}

/* ═══════════════════════════════════════════════
   EMPTY STATE
   ═══════════════════════════════════════════════ */
.empty-state {
  text-align: center; padding: 60px 20px;
  color: var(--text2); font-size: 13px;
}
.empty-state svg { opacity: .3; margin-bottom: 14px; }
.empty-state h3 { font-size: 16px; font-weight: 600; color: var(--text); margin-bottom: 6px; }

/* ═══════════════════════════════════════════════
   GRID HELPERS
   ═══════════════════════════════════════════════ */
.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
.grid-3 { display: grid; grid-template-columns: repeat(3,1fr); gap: 16px; }
.grid-4 { display: grid; grid-template-columns: repeat(4,1fr); gap: 16px; }

/* ═══════════════════════════════════════════════
   MUNICIPALITY CARDS
   ═══════════════════════════════════════════════ */
.muni-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 14px; }
.muni-card {
  background: var(--surface); border: 1px solid var(--border);
  border-radius: var(--radius-sm); padding: 14px;
  transition: all .2s; cursor: pointer;
}
.muni-card:hover { border-color: var(--border2); transform: translateY(-1px); }
.muni-card .muni-name { font-size: 13px; font-weight: 700; margin-bottom: 8px; }
.muni-card .muni-pop  { font-size: 11px; color: var(--text2); margin-bottom: 8px; }

/* ═══════════════════════════════════════════════
   NARRATIVE / LANGUAGE WORD CLOUD
   ═══════════════════════════════════════════════ */
.word-cloud { display: flex; flex-wrap: wrap; gap: 8px; padding: 10px 0; }
.word-cloud-item {
  padding: 5px 12px; border-radius: 20px; cursor: pointer;
  font-weight: 600; transition: transform .15s, opacity .15s;
  border: 1px solid transparent;
}
.word-cloud-item:hover { transform: scale(1.05); opacity: 1 !important; }

/* ═══════════════════════════════════════════════
   SECTION DIVIDER
   ═══════════════════════════════════════════════ */
.section-divider {
  display: flex; align-items: center; gap: 12px;
  margin: 24px 0 16px; font-size: 11px; color: var(--text3);
  text-transform: uppercase; letter-spacing: 1.2px; font-weight: 700;
}
.section-divider::before, .section-divider::after {
  content: ''; flex: 1; height: 1px; background: var(--border);
}

/* ═══════════════════════════════════════════════
   TIMELINE
   ═══════════════════════════════════════════════ */
.timeline { position: relative; padding-left: 24px; }
.timeline::before {
  content: ''; position: absolute; left: 8px; top: 0; bottom: 0;
  width: 2px; background: var(--border);
}
.timeline-item { position: relative; margin-bottom: 20px; }
.timeline-item::before {
  content: ''; position: absolute; left: -20px; top: 5px;
  width: 8px; height: 8px; border-radius: 50%;
  background: var(--blue); border: 2px solid var(--bg);
}
.timeline-item.critical::before { background: var(--red); }
.timeline-item .tl-date { font-size: 10px; color: var(--text3); margin-bottom: 3px; }
.timeline-item .tl-text { font-size: 13px; }

/* ═══════════════════════════════════════════════
   SEARCH BAR
   ═══════════════════════════════════════════════ */
.search-bar {
  display: flex; align-items: center; gap: 8px;
  background: var(--surface2); border: 1px solid var(--border);
  border-radius: var(--radius-sm); padding: 8px 12px;
  transition: border-color .18s;
}
.search-bar:focus-within { border-color: var(--blue); box-shadow: 0 0 0 3px rgba(59,130,246,.12); }
.search-bar input {
  background: none; border: none; color: var(--text);
  font-size: 13px; flex: 1; outline: none;
  box-shadow: none !important;
}
.search-bar svg { color: var(--text3); flex-shrink: 0; }

/* ═══════════════════════════════════════════════
   HEADER BAR (top of each page)
   ═══════════════════════════════════════════════ */
.top-bar {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 24px; gap: 16px; flex-wrap: wrap;
}
.top-bar-title h1 {
  font-size: 22px; font-weight: 800;
  background: linear-gradient(135deg, #e2e8f0, #94a3b8);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
}
.top-bar-title .subtitle { font-size: 12px; color: var(--text2); margin-top: 3px; }
.top-bar-actions { display: flex; align-items: center; gap: 10px; }

/* Breadcrumb */
.breadcrumb { display: flex; align-items: center; gap: 6px; font-size: 11px; color: var(--text3); margin-bottom: 6px; }
.breadcrumb span { color: var(--text2); }

/* ═══════════════════════════════════════════════
   NUMBER HIGHLIGHT
   ═══════════════════════════════════════════════ */
.num-gold   { color: var(--gold); font-weight: 800; }
.num-blue   { color: #60a5fa; font-weight: 800; }
.num-red    { color: #f87171; font-weight: 800; }
.num-green  { color: var(--green); font-weight: 800; }
.num-cyan   { color: var(--cyan); font-weight: 800; }
.num-orange { color: var(--orange); font-weight: 800; }

/* ═══════════════════════════════════════════════
   FILTER ROW
   ═══════════════════════════════════════════════ */
.filter-row {
  display: flex; gap: 8px; flex-wrap: wrap;
  margin-bottom: 20px; align-items: center;
}
.filter-chip {
  padding: 5px 14px; border-radius: 20px;
  font-size: 11px; font-weight: 600; cursor: pointer;
  border: 1px solid var(--border); background: transparent;
  color: var(--text2); transition: all .15s;
  font-family: 'Inter', sans-serif;
}
.filter-chip:hover { border-color: var(--border2); color: var(--text); }
.filter-chip.active {
  background: rgba(59,130,246,.12);
  border-color: rgba(59,130,246,.3);
  color: #60a5fa;
}

/* ═══════════════════════════════════════════════
   RESPONSIVE
   ═══════════════════════════════════════════════ */
@media (max-width: 1100px) {
  .command-hero { grid-template-columns: 1fr 1fr; }
  .command-hero-main { grid-column: span 2; }
  .charts-grid-3 { grid-template-columns: 1fr 1fr; }
}
@media (max-width: 900px) {
  :root { --sidebar-w: 64px; }
  .sidebar-logo-text, .sidebar-section,
  .sidebar-link span, .project-pill, .role-row { display: none; }
  .sidebar-link { justify-content: center; padding: 12px; }
  .sidebar-link .icon { width: 20px; height: 20px; opacity: 1; }
  .main-content { padding: 16px; }
  .grid-2, .charts-grid { grid-template-columns: 1fr; }
  .charts-grid-3 { grid-template-columns: 1fr; }
  .command-hero { grid-template-columns: 1fr; }
  .command-hero-main { grid-column: span 1; }
}

/* ═══════════════════════════════════════════════
   KEYFRAMES — PULSE RING (CentroComando)
   ═══════════════════════════════════════════════ */
@keyframes pulseRing {
  0%   { transform: scale(.8); opacity: .6; }
  70%  { transform: scale(2.2); opacity: 0; }
  100% { transform: scale(.8); opacity: 0; }
}

/* ── Command Hero overrides for CentroComando page ─────────── */
.command-hero {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 20px;
  background: linear-gradient(135deg, var(--surface) 0%, var(--surface2) 100%);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 24px 28px;
  position: relative;
  overflow: hidden;
  margin-bottom: 20px;
}
.command-hero::before {
  content: ''; position: absolute; top: -60%; right: -10%;
  width: 350px; height: 350px; border-radius: 50%;
  background: radial-gradient(circle, rgba(245,197,24,.05) 0%, transparent 70%);
  pointer-events: none;
}
.command-title {
  font-size: 26px;
  font-weight: 900;
  background: linear-gradient(135deg, #f5c518 0%, #e2e8f0 60%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 4px;
}
.command-subtitle {
  font-size: 13px;
  color: var(--text2);
  margin-top: 2px;
}

/* Legacy aliases (keep compatibility) */
.c-purple { color: var(--purple); }
.c-teal   { color: var(--cyan); }
.c-yellow { color: var(--gold); }
.c-green  { color: var(--green); }
.accent   { color: var(--blue); }

/* Stat card — label/value/sub from existing pages */
.stat-card .label { font-size: 10px; color: var(--text2); text-transform: uppercase; letter-spacing: .8px; font-weight: 600; }
.stat-card .value { font-size: 32px; font-weight: 900; line-height: 1.1; margin: 6px 0 2px; }
.stat-card .sub   { font-size: 11px; color: var(--text2); }
.stat-card { border-top: 3px solid var(--blue); }

